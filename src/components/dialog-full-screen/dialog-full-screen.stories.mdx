import { useState } from 'react';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';

import DialogFullScreen from '.';
import { Accordion } from '../accordion';
import AppWrapper from '../app-wrapper';
import Box from '../box';
import Button from '../button';
import Form from '../form';
import Textbox from '../../__experimental__/components/textbox';
import Pill from '../../components/pill';
import useMediaQuery from '../../hooks/useMediaQuery';

<Meta
  title="Dialog Full Screen"
  parameters={{ info: { disable: true }}}
/>

# DialogFullScreen
A full-width and full-height dialog overlaid on top of any page.

Useful to perform an action in context without navigating the user to a separate page.

Whilst a standard Dialog componentâ€™s width might constrain what you can do, the full screen dialog uses the full width and height available.

A good example could be importing a large volume of data, and checking for errors, in the context of an underlying table of data.

## Related Components
- Simple task in context? [Try Dialog](/?path=/docs/dialog--default-story "Dialog").
- Need to refer back to the underlying page? [Try Sidebar](/?path=/docs/sidebar--default-story "Sidebar").

## Quick Start

Import the component and use as shown below:

```jsx
import DialogFullScreen from "carbon-react/lib/components/dialog-full-screen";

const MyComponent = ({ isOpen, handleClose }) => (
  <DialogFullScreen
    open={ isOpen }
    onCancel={ handleClose }
    title="Title"
    subtitle="Subtitle"
  >
    Dialog content
  </DialogFullScreen>
);
```

### Default

<Preview>
  <Story name="default" parameters={{ chromatic: { disable: true, viewports: [400, 1000, 1400] }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open DialogFullScreen
          </Button>
          <DialogFullScreen
            open={ isOpen }
            onCancel={ () => setIsOpen(false) }
            title="Title"
            subtitle="Subtitle"
          >
            <Form
              stickyFooter={ true }
              leftSideButtons={ <Button onClick={ () => setIsOpen(false) }>Cancel</Button> }
              saveButton={ <Button buttonType='primary' type='submit'>Save</Button> }
            >
              <div>This is an example of a full screen Dialog with a Form as content</div>
              <Textbox label='First Name' />
              <Textbox label='Middle Name' />
              <Textbox label='Surname' />
              <Textbox label='Birth Place' />
              <Textbox label='Favourite Colour' />
              <Textbox label='Address' />
            </Form>
          </DialogFullScreen>
        </>
      )
    }}
  </Story>
</Preview>

### With disableContentPadding

<Preview>
  <Story name="with disableContentPadding" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open DialogFullScreen
          </Button>
          <DialogFullScreen
            open={ isOpen }
            onCancel={ () => setIsOpen(false) }
            title="Title"
            subtitle="Subtitle"
            disableContentPadding
          >
            <Form
              stickyFooter={ true }
              leftSideButtons={ <Button onClick={ () => setIsOpen(false) }>Cancel</Button> }
              saveButton={ <Button buttonType='primary' type='submit'>Save</Button> }
            >
              <div>This is an example of a full screen Dialog with a Form as content</div>
              <Textbox label='First Name' />
              <Textbox label='Middle Name' />
              <Textbox label='Surname' />
              <Textbox label='Birth Place' />
              <Textbox label='Favourite Colour' />
              <Textbox label='Address' />
            </Form>
          </DialogFullScreen>
        </>
      )
    }}
  </Story>
</Preview>

### With header children 

<Preview>
  <Story name="with header children" parameters={{ chromatic: { disable: true, viewports: [500, 1400] }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      const aboveBreakpoint = useMediaQuery('(min-width: 568px)');
      const verticalMargin = aboveBreakpoint ? '26px' : 0;
      const HeaderChildren = (
        <div style={{ margin: `${verticalMargin} 0 26px` }}>
          <Pill as="help" fill>A pill</Pill> 
          <Pill as="info" fill ml={2} mr={1}>Another pill</Pill>
        </div>
      );
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open DialogFullScreen
          </Button>
          <DialogFullScreen
            open={ isOpen }
            onCancel={ () => setIsOpen(false) }
            title="An example of a long header"
            subtitle="Subtitle"
            headerChildren={ HeaderChildren }
          >
            <Form
              stickyFooter={ true }
              leftSideButtons={ <Button onClick={ () => setIsOpen(false) }>Cancel</Button> }
              saveButton={ <Button buttonType='primary' type='submit'>Save</Button> }
            >
              <div>This is an example of a full screen Dialog with a Form as content</div>
              <Textbox label='First Name' />
              <Textbox label='Middle Name' />
              <Textbox label='Surname' />
              <Textbox label='Birth Place' />
              <Textbox label='Favourite Colour' />
              <Textbox label='Address' />
            </Form>
          </DialogFullScreen>
        </>
      )
    }}
  </Story>
</Preview>

### With hidable header children 

<Preview>
  <Story name="with hidable header children" parameters={{ chromatic: { disable: true, viewports: [500, 1400] }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      const aboveBreakpoint = useMediaQuery('(min-width: 568px)');
      const verticalMargin = aboveBreakpoint ? '26px' : 0;
      const HeaderChildrenAboveBreakpoint = (
        <div style={{ margin: `${verticalMargin} 0 26px` }}>
          <Pill as="help" fill>A pill</Pill> 
          <Pill as="info" fill ml={2} mr={1}>Another pill</Pill>
        </div>
      );
      const HeaderChildrenBelowBreakpoint = ( 
        <Accordion
          title="More info"
          openTitle="Less info"
          scheme="transparent"
          borders="none"
          disableContentPadding
          buttonHeading
          buttonWidth={120}
          ml="-13px"
        >
          <Box py="16px" pl="14px">
            <Pill as="help" fill>A pill</Pill> 
            <Pill as="info" fill ml={2} mr={1}>Another pill</Pill>
          </Box>
        </Accordion> 
      );
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open DialogFullScreen
          </Button>
          <DialogFullScreen
            open={ isOpen }
            onCancel={ () => setIsOpen(false) }
            title="An example of a long header"
            subtitle="Subtitle"
            headerChildren={ aboveBreakpoint ? HeaderChildrenAboveBreakpoint : HeaderChildrenBelowBreakpoint }
          >
            <Form
              stickyFooter={ true }
              leftSideButtons={ <Button onClick={ () => setIsOpen(false) }>Cancel</Button> }
              saveButton={ <Button buttonType='primary' type='submit'>Save</Button> }
            >
              <div>This is an example of a full screen Dialog with a Form as content</div>
              <Textbox label='First Name' />
              <Textbox label='Middle Name' />
              <Textbox label='Surname' />
              <Textbox label='Birth Place' />
              <Textbox label='Favourite Colour' />
              <Textbox label='Address' />
            </Form>
          </DialogFullScreen>
        </>
      )
    }}
  </Story>
</Preview>

### With AppWrapper

<Preview>
  <Story name="with app wrapper" parameters={{ chromatic: { disable: true }}}>
    {() => {
      const [isOpen, setIsOpen] = useState(false);
      return (
        <>
          <Button onClick={ () => setIsOpen(!isOpen) }>
            Open DialogFullScreen
          </Button>
          <DialogFullScreen
            open={ isOpen }
            onCancel={ () => setIsOpen(false) }
            title="Title"
            subtitle="Subtitle"
          >
            <AppWrapper>
              <Form
                stickyFooter={ true }
                leftSideButtons={ <Button onClick={ () => setIsOpen(false) }>Cancel</Button> }
                saveButton={ <Button buttonType='primary' type='submit'>Save</Button> }
              >
                <div>This is an example of a full screen Dialog with a Form as content</div>
                <Textbox label='First Name' />
                <Textbox label='Middle Name' />
                <Textbox label='Surname' />
                <Textbox label='Birth Place' />
                <Textbox label='Favourite Colour' />
                <Textbox label='Address' />
              </Form>
            </AppWrapper>
          </DialogFullScreen>
        </>
      )
    }}
  </Story>
</Preview>

## Props:

### DialogFullScreen

<Props of={DialogFullScreen} />
