import { Meta, Story, Canvas } from "@storybook/addon-docs";
import StyledSystemProps from "../../../.storybook/utils/styled-system-props";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";

import {Time} from ".";

import * as stories from "./time.stories";

<Meta
  title="Time"
  parameters={{
    info: { disable: true },
  }}
/>

# Time

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import {Time} from "carbon-react/lib/components/time";
```

## Examples

### Default

The component needs to be controlled via `value` and `onChange` props. The `value` prop accepts an object 
with `hours` and `minutes` properties that correspond to the relevant input.

<Canvas>
  <Story name="default" story={stories.Default} />
</Canvas>

### AM/PM toggle

In order to render the AM/PM toggle controls you should set the `period` property in the `value` object.

<Canvas>
  <Story name="am/pm toggle" story={stories.AmPmToggle} />
</Canvas>

### Input hint

Passing a string to the `inputHint` prop will render some additional hint text above the inputs.

<Canvas>
  <Story name="input hint" story={stories.InputHint} />
</Canvas>

### Required

<Canvas>
  <Story name="required" story={stories.Required} />
</Canvas>

### Is optional

<Canvas>
  <Story name="is optional" story={stories.IsOptional} />
</Canvas>

### Disabled

<Canvas>
  <Story name="disabled" story={stories.Disabled} />
</Canvas>

### Read only

<Canvas>
  <Story name="read only" story={stories.ReadOnly} />
</Canvas>

### Sizes

<Canvas>
  <Story name="sizes" story={stories.Sizes} />
</Canvas>

### Validation

It is possible to set the validation states on either both or individual inputs by using the `error` 
and `warning` props passed via the `hoursInputProps` and `minutesInputProps` respectively.

<Canvas>
  <Story name="validation" story={stories.Validation} />
</Canvas>

### Focusing the inputs programmatically

The component exposes `focusHoursInput` and `focusMinutesInput` functions that support programmatically 
focusing the hours and minutes inputs which can be called by passing a `ref` to the component.

<Canvas>
  <Story name="focusing inputs programmatically" story={stories.FocusingInputs} />
</Canvas>

### Locale override

It is possible to override the translations applied to this component, see the [table below](#translation-keys) 
for the available keys. It is also possible to have more granular control of the label overrides via the 
`label` and `aria-label` props passed via the `hoursInputProps` and `minutesInputProps` respectively.

<Canvas>
  <Story name="locale override" story={stories.LocaleOverride} />
</Canvas>

## Props

<StyledSystemProps of={Time} margin noHeader />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object
to the [i18nProvider](https://carbon.sage.com/?path=/story/documentation-i18n--page).

<TranslationKeysTable
  translationData={[
    {
      name: "time.amText",
      description: "The text for AM button toggle",
      type: "func",
      returnType: "string",
    },
    {
      name: "time.pmText",
      description: "The text for the PM button toggle",
      type: "func",
      returnType: "string",
    },
    {
      name: "time.hoursLabelText",
      description: "The text for the hours input label",
      type: "func",
      returnType: "string",
    },
     {
      name: "time.minutesLabelText",
      description: "The text for the minutes input label",
      type: "func",
      returnType: "string",
    },
     {
      name: "time.hoursAriaLabelText",
      description: "The text for the aria-label of the hours input label",
      type: "func",
      returnType: "string",
    },
     {
      name: "time.minutesAriaLabelText",
      description: "The text for the aria-label of the minutes input label",
      type: "func",
      returnType: "string",
    },
  ]}
/>
