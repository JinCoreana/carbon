import { Meta, Story, Preview } from "@storybook/addon-docs";

import specialCharacters from "../../../.storybook/utils/argTypes/specialCharacters";
import TableWrapper from "./table-story-helpers/table-story-wrapper.component";
import { Table } from ".";
import { TABLE_INPUT_TYPES, TABLE_SIZES, TABLE_THEMES } from "./table.config";

<Meta
  title="Table/Test"
  parameters={{
    info: { disable: true },
    chromatic: {
      disable: true,
    },
  }}
  argTypes={{
    sortOrder: {
      options: ["", "asc", "desc"],
      control: {
        type: "select",
      },
    },
    sortedColumn: {
      options: ["", "name", "code"],
      control: {
        type: "select",
      },
    },
    tableTheme: {
      options: [TABLE_THEMES[0], TABLE_THEMES[1], TABLE_THEMES[2]],
      control: {
        type: "select",
      },
    },
    size: {
      options: TABLE_SIZES,
      control: {
        type: "select",
      },
    },
    captionSpecialCharacters: specialCharacters,
    totalRecordsSpecialCharacters: specialCharacters,
  }}
/>

export const TableStory = ({
  totalRecords,
  totalRecordsSpecialCharacters,
  caption,
  captionSpecialCharacters,
  tableTheme,
  ...args
}) => (
  <TableWrapper
    caption={
      !caption && captionSpecialCharacters ? captionSpecialCharacters : caption
    }
    theme={tableTheme}
    totalRecords={totalRecords || totalRecordsSpecialCharacters}
    {...args}
  />
);

# Table

### Default

export const commonArgs = {
  sortOrder: "",
  sortedColumn: "",
  highlightable: false,
  selectable: false,
  isPassiveData: false,
  shrink: false,
  caption: "Country and Country Codes",
  captionSpecialCharacters: undefined,
  totalRecords: 193,
  totalRecordsSpecialCharacters: undefined,
  pageSize: 10,
  paginate: false,
  showPageSizeSelection: false,
  tableTheme: Table.defaultProps.theme,
  size: Table.defaultProps.size,
  isZebra: false,
};

<Preview>
  <Story name="default" args={commonArgs}>
    {TableStory.bind({})}
  </Story>
</Preview>

<Preview>
  <Story
    name="default with inputs"
    argTypes={{
      inputType: {
        options: [
          TABLE_INPUT_TYPES[0],
          TABLE_INPUT_TYPES[1],
          TABLE_INPUT_TYPES[2],
        ],
        control: {
          type: "select",
        },
      },
    }}
    args={{
      ...commonArgs,
      inputType: "textbox",
    }}
  >
    {TableStory.bind({})}
  </Story>
</Preview>
